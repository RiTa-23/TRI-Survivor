{
  "packages": [
    "go@1.22",
    "nodejs@22",
    "air@latest",
    "atlas@latest",
    "go-task@latest",
    "postgresql@latest"
  ],
  "shell": {
    "init_hook": [
      "echo 'Welcome to TRI-Survivor Project Dev Environment!'",
      "echo 'Run \"devbox run setup\" to install dependencies.'"
    ],
    "scripts": {
      "setup": "go mod download && npm install && cd frontend && npm install",
      "dev:back": "air",
      "dev:front": "cd frontend && npm run dev",
      "dev": "npm run dev",
      "db:diff": "atlas schema diff --from \"env://src\" --to \"file://schema.hcl\" --dev-url \"docker://postgres/15/dev\"",
      "db:apply": "atlas schema apply --url \"$DATABASE_URL\" --to \"file://schema.hcl\"",
      "db:up": "devbox services up postgresql",
      "db:down": "devbox services stop postgresql",
      "ui:add": "cd frontend && npx shadcn-ui@latest add"
    }
  }
}